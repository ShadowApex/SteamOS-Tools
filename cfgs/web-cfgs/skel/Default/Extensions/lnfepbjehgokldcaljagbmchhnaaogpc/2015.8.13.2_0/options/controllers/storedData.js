/*! CKP - KeePass integration for Chromeâ„¢, Copyright 2015 Steven Campbell
*/
"use strict";function StoredDataController($scope){function refreshLocalStorage(){return $scope.localData=[],chrome.p.storage.local.get(null).then(function(items){for(var name in items){var entry={key:name,data:items[name]};$scope.localData.push(entry)}})}function refreshSyncStorage(){return $scope.syncData=[],chrome.p.storage.sync.get(null).then(function(items){for(var name in items){var entry={key:name,data:items[name]};$scope.syncData.push(entry)}})}function refreshPermissions(){return $scope.permissions={},chrome.p.permissions.getAll().then(function(perms){$scope.permissions=perms})}Promise.all([refreshLocalStorage(),refreshSyncStorage(),refreshPermissions()]).then(function(){$scope.$apply()}),$scope.deleteLocalData=function(key){chrome.p.storage.local.remove(key).then(function(){return refreshLocalStorage()}).then(function(){$scope.$apply()})},$scope.deleteOriginPermission=function(origin){chrome.p.permissions.remove({origins:[origin]}).then(function(){return refreshPermissions()}).then(function(){$scope.$apply()})}}